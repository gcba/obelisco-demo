"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PaginationNumber = exports.PaginationItem = exports.Pagination = void 0;
var React = require("react");
exports.Pagination = function (props) {
    var pages = Array.from(Array(props.pages).keys());
    var _a = React.useState(props.default || 0), current = _a[0], setCurrent = _a[1];
    var prevText = props.prevText, nextText = props.nextText;
    var isShowPrev = current === 0;
    var isShowNext = current === pages.length - 1;
    var onPageSelected = function (page) {
        setCurrent(page);
        props.onPageSelected && props.onPageSelected(page);
    };
    var onPrev = function () {
        if (current > 0)
            onPageSelected(current - 1);
    };
    var onNext = function () {
        if (current < pages.length - 1)
            onPageSelected(current + 1);
    };
    var pagesToShow = pages;
    var isShowTopTrimmer = true;
    var isShowBottomTrimmer = false;
    var lastIndex = pages.length - 1;
    if (pages.length > 2) {
        if (current < 2) {
            pagesToShow = pagesToShow.slice(0, 2);
            isShowTopTrimmer = true;
        }
        else if (current > lastIndex - 2) {
            pagesToShow = pagesToShow.slice(lastIndex - 1);
            isShowTopTrimmer = false;
            isShowBottomTrimmer = true;
        }
        else {
            pagesToShow = pagesToShow.slice(current - 1, current + 2);
            isShowBottomTrimmer = true;
            isShowTopTrimmer = true;
        }
    }
    return (React.createElement("nav", { "aria-label": props.ariaLabel },
        React.createElement("ul", { className: "pagination" },
            React.createElement(exports.PaginationItem, { isHidden: isShowPrev, onClick: function () { return onPrev(); } },
                React.createElement("span", { className: "page-previous-icon", "aria-hidden": "true" }),
                React.createElement("span", { className: "page-previous-text" },
                    " ",
                    prevText ? prevText : 'Anterior')),
            isShowBottomTrimmer && (React.createElement(React.Fragment, null,
                React.createElement(exports.PaginationNumber, { index: 0, current: current, onClick: function () { return onPageSelected(0); } }),
                React.createElement(exports.PaginationItem, null, "..."))),
            pagesToShow.map(function (i) { return (React.createElement(exports.PaginationNumber, { index: i, key: i, current: current, onClick: function () { return onPageSelected(i); } })); }),
            isShowTopTrimmer && (React.createElement(React.Fragment, null,
                React.createElement(exports.PaginationItem, null, "..."),
                React.createElement(exports.PaginationNumber, { index: lastIndex, current: current, onClick: function () { return onPageSelected(lastIndex); } }))),
            React.createElement(exports.PaginationItem, { isHidden: isShowNext, onClick: function () { return onNext(); } },
                React.createElement("span", { className: "page-next-text" },
                    nextText ? nextText : 'Siguiente',
                    " "),
                React.createElement("span", { className: "page-next-icon", "aria-hidden": "true" })))));
};
exports.PaginationItem = function (props) {
    var onClick = function (event) {
        event.preventDefault();
        props.onClick && props.onClick();
    };
    if (props.children === '...') {
        return (React.createElement("li", { className: "page-item no-events" },
            React.createElement("span", { className: "page-link" }, props.children)));
    }
    if (props.isHidden) {
        return (React.createElement("li", { className: "page-item", style: { display: 'none' } },
            React.createElement("span", { className: "page-link" }, props.children)));
    }
    return (React.createElement("li", { className: "page-item " + (props.isActive ? 'active' : '') },
        React.createElement("a", { className: "page-link", href: "#", onClick: onClick }, props.children)));
};
exports.PaginationNumber = function (props) {
    var index = props.index, current = props.current, onClick = props.onClick;
    return (React.createElement(exports.PaginationItem, { isActive: index === current, onClick: onClick }, index + 1));
};
//# sourceMappingURL=index.js.map